## 1. 문제 설명
- 1x1 크기의 CCTV가 N×M 사무실에 배치되어 있다.
- CCTV는 바라보는 방향으로 직선상의 모든 칸을 감시할 수 있다.
- CCTV 종류별 감시 방향
  - 1번: 한 방향
  - 2번: 서로 반대 방향(180도)
  - 3번: 직각으로 두 방향(90도)
  - 4번: 세 방향
  - 5번: 네 방향 모두
- 6은 벽이며 CCTV의 감시는 벽을 통과할 수 없다.
- 다른 CCTV는 감시를 방해하지 않는다.
- CCTV는 회전이 가능하다.
- 목표: 감시되지 않는 칸(사각지대)의 최소 크기를 구하는 것이다.

## 2. 입출력
### 입력
- N, M (1 ≤ N, M ≤ 8)
- N×M 사무실 정보 (빈 칸, 벽, CCTV)
- CCTV 최대 개수는 8개

### 출력
- 사각지대의 최소 크기

## 3. 알고리즘
- CCTV는 회전이 가능하므로 CCTV마다 가능한 모든 방향 조합을 탐색해야 한다.
- CCTV가 보는 방향에 따라 감시할 수 있는 칸이 달라지므로 완전 탐색(백트래킹)으로 모든 경우를 고려한다.
- 각 CCTV에 대해 가능한 방향 조합을 선택하고 감시 영역을 반영한 뒤, 다음 CCTV로 넘어가는 DFS 수행.
- 감시 영역을 판에 표시하여 중복 처리 문제를 방지하고, 탐색 후 원 상태로 롤백하여 다른 경우의 탐색에 사용한다.
- 모든 CCTV 방향 배치를 완성했을 때 감시된 칸 수를 계산하여 최댓값을 갱신한다.
- 전체 칸 수에서 벽 개수, CCTV 개수, 감시된 칸 수를 제외하여 사각지대 크기를 계산하고, 그 중 최소값을 출력한다.

## 4. 핵심 구현 아이디어
- CCTV의 감시 방향 조합은 종류마다 다르므로 미리 방향 세트를 정의한다.
- 감시 기능 수행 함수(drawing): CCTV가 해당 방향으로 직진하면서 감시 가능한 칸을 표시하고 감시 개수 반환.
- 롤백 함수(erasing): drawing 단계에서 표시한 칸들을 다시 원래 상태로 되돌린다.
- DFS 구조
  1. 특정 CCTV의 가능한 방향 조합 중 하나를 선택한다.
  2. 선택한 방향 조합대로 감시 영역을 표시한다.
  3. 다음 CCTV로 이동하여 탐색을 이어간다.
  4. 탐색 종료 후 감시 영역을 롤백하고 다른 방향 조합 시도.
- 탐색 종료 시 전체 경우 중 감시 영역이 가장 넓은 경우를 기록하여 사각지대 최소값을 도출한다.

## 5. 시간 복잡도 근사
- CCTV가 최대 8개이고 각 CCTV는 최대 4가지 방향 조합을 가진다.
- 최악의 경우 4⁸ = 65,536 조합을 탐색한다.
- N, M이 최대 8이므로 공간 전체 탐색도 충분히 가능하여 완전 탐색이 유효하다.

## 6. 결론
- 본 문제의 핵심은 CCTV 방향 배치를 완전 탐색으로 모두 확인하면서 감시 영역이 최대가 되는 배치를 찾는 것이다.
- CCTV 방향을 DFS로 탐색하고 백트래킹을 통해 상태를 관리함으로써 사각지대를 최소화하는 답을 도출한다.
